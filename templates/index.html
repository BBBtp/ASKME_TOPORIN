{% extends 'base.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Список вопросов</title>{% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   
    <style>
        .small-circle {
            width: 75px; 
            height: 75px; 
            object-fit: cover; /
            border: none; 
        }

        .medium-circle {
            width: 90px;
            height: 90px;
            object-fit: cover;
            border: none;
        }

        .small {
            width: 14px;
            height: 14px;
        }

    </style>
</head>
<body>
{% block title %}
    <div class="d-flex gap-3 align-items-center mb-2">
        <h2>Новые вопросы</h2>
        <a href="#">
            Топ вопросы
        </a>
    </div>
{% endblock %}
{% block content %}
    <div class="d-flex flex-column gap-3">
        <!-- Вопрос 1 -->
        <div class="card w-100" style="width: 18rem;">
            <div class="card-body">
                <div class="row">
                    <div class="col-2">
                        <img src="/static/images/chiefKeef.jpg" class="img-thumbnail rounded-circle medium-circle"
                             alt="Avatar Image">
                        <article class="mt-2">
                            <div class="panel panel-default">
                                <span class="d-flex justify-content-center">
                                    <div class="me-2">
                                        <img src="/static/images/like.png" class="small like-button"
                                             style="cursor: pointer;">
                                        <span class="badge text-bg-primary like-count">0</span>
                                    </div>
                                </span>
                            </div>
                        </article>
                    </div>
                    <div class="col-10">
                        <a href="/question/"><h5 class="card-title">Как установить Linux на Windows?</h5></a>
                        <p class="card-text">Я пытаюсь установить Linux через dual boot, но система не отображает
                            загрузчик. Как это исправить?</p>
                        <div class="d-flex gap-5 align-items-center">
                            <a href="#" class="card-link">Ответы(5)</a>
                            <div class="d-flex gap-3">
                                Тэги:
                                <a href="/tag/" class="card-link">Linux</a>
                                <a href="#" class="card-link">Windows</a>
                                <a href="#" class="card-link">Dual Boot</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Вопрос 2 -->
        <div class="card w-100" style="width: 18rem;">
            <div class="card-body">
                <div class="row">
                    <div class="col-2">
                        <img src="/static/images/smile.jpg" class="img-thumbnail rounded-circle medium-circle"
                             alt="Avatar Image">
                        <article class="mt-2">
                            <div class="panel panel-default">
                                <span class="d-flex justify-content-center">
                                    <div class="me-2">
                                        <img src="/static/images/like.png" class="small like-button"
                                             style="cursor: pointer;">
                                        <span class="badge text-bg-primary like-count">0</span>
                                    </div>
                                </span>
                            </div>
                        </article>
                    </div>
                    <div class="col-10">
                        <a href="/question/"><h5 class="card-title">Как настроить VPN на Android?</h5></a>
                        <p class="card-text">Не удается подключиться к VPN на Android через стандартное приложение. Есть
                            ли другие способы?</p>
                        <div class="d-flex gap-5 align-items-center">
                            <a href="#" class="card-link">Ответы(2)</a>
                            <div class="d-flex gap-3">
                                Тэги:
                                <a href="#" class="card-link">VPN</a>
                                <a href="#" class="card-link">Android</a>
                                <a href="#" class="card-link">Сеть</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Вопрос 3 -->
        <div class="card w-100" style="width: 18rem;">
            <div class="card-body">
                <div class="row">
                    <div class="col-2">
                        <img src="/static/images/EgorKreed.jpg" class="img-thumbnail rounded-circle medium-circle"
                             alt="Avatar Image">
                        <article class="mt-2">
                            <div class="panel panel-default">
                                <span class="d-flex justify-content-center">
                                    <div class="me-2">
                                        <img src="/static/images/like.png" class="small like-button"
                                             style="cursor: pointer;">
                                        <span class="badge text-bg-primary like-count">0</span>
                                    </div>
                                </span>
                            </div>
                        </article>
                    </div>
                    <div class="col-10">
                        <a href="/question/"><h5 class="card-title">Как сделать бэкап базы данных в PostgreSQL?</h5></a>
                        <p class="card-text">Не понимаю, как создать резервную копию базы данных в PostgreSQL и
                            восстановить её на другом сервере.</p>
                        <div class="d-flex gap-5 align-items-center">
                            <a href="#" class="card-link">Ответы(4)</a>
                            <div class="d-flex gap-3">
                                Тэги:
                                <a href="#" class="card-link">PostgreSQL</a>
                                <a href="#" class="card-link">Базы данных</a>
                                <a href="#" class="card-link">Бэкап</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <nav aria-label="Page navigation example " class="mt-4">
        <ul class="pagination">
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">...</a></li>
            <li class="page-item"><a class="page-link" href="#">53</a></li>
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
{% endblock %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% block scripts %}
    <script>
        $(document).ready(function () {
            // Обрабатываем клик по кнопке лайка
            $('.like-button').on('click', function () {
                // Найдем ближайший элемент-счетчик лайков в этой же карточке
                var countElement = $(this).closest('.me-2').find('.like-count');

                // Получаем текущее количество лайков
                var currentCount = parseInt(countElement.text(), 10) || 0;

                // Увеличиваем счетчик
                currentCount++;

                // Обновляем текст счетчика
                countElement.text(currentCount);
            });
        });
    </script>
{% endblock %}
</body>
</html>
